<html style="height:100%">
<head>
<meta charset="UTF-8">
<meta property="og:image" content="https://dl.dropboxusercontent.com/u/19782069/bingo/screenshot.png">
</head> 

<script>

var sayings = [
    "A URL",
    "A confession",
    "A living apostle",
    "A personal experience",
    "A reference to how often the speaker bears public testimony",
    "A reference to the length of the meeting",
    "Adam and Eve",
    "Agency",
    "An animal",
    "Angel",
    "Any word that starts with 'K'",
    "Any word that starts with 'Q'",
    "Any word that starts with 'V'",
    "Articles of faith",
    "At least 3 minutes introducing self",
    "Atonement",
    "Baptism",
    "Bishop",
    "Blessing",
    "Blindness",
    "Brigham Young",
    "Celestial Kingdom",
    "Cell phone rings",
    "Charity",
    "Chastity",
    "Church",
    "Confirmation",
    "Congregation stands for a hymn",
    "Covenant",
    "Creation",
    "Crinkling wrapper",
    "Death",
    "Dictionary definition",
    "Dream",
    "Education",
    "Esoteric analogy",
    "Eternity",
    "Example",
    "Faith",
    "Family history work",
    "Fasting",
    "Fear",
    "Friends",
    "Food storage",
    "Garden of Eden",
    "Gethsemane",
    "Glory",
    "God's omnipotence",
    "God's omniscience",
    "Gratitude",
    "Hate",
    "Hell",
    "Hope",
    "Humility",
    "Idaho",
    "Integrity",
    "Investigator",
    "Jesus (before testimony)",
    "Joseph Smith",
    "Journal",
    "Joy",
    "Justice",
    "Kindness",
    "Knowledge",
    "Laugh at own joke",
    "Love",
    "Magnifying callings",
    "Marriage",
    "Men",
    "Mercy",
    "Miracle",
    "Missionary work",
    "Modesty",
    "Money",
    "Nephi",
    "Obedience",
    "Offense",
    "Parable",
    "Patience",
    "Peace",
    "Pioneers",
    "Podium height adjusted",
    "Prayer",
    "Pride cycle",
    "Pride",
    "Priesthood",
    "Prime-numbered congregational hymn",
    "Prophets",
    "Reading from materials for more than 10 seconds",
    "Referencing secular media",
    "Releases",
    "Repentance",
    "Resurrection",
    "Revelation",
    "Reverence",
    "Sabbath observance",
    "Sacrament",
    "Sacrifice",
    "Satan",
    "Self-aggrandizement",
    "Service",
    "Sharing a Book of Mormon scripture",
    "Sharing a D&C scripture",
    "Sharing a New Testament scripture",
    "Sharing a Old Testament scripture",
    "Signs",
    "Simpleness",
    "Social media",
    "Someone blows their nose",
    "Someone on the stand wearing a red tie",
    "Someone sleeping",
    "Someone sneezes",
    "Speaker adjusts microphone",
    "Speaking in a foreign language",
    "Spirit",
    "Sports",
    "Stake business",
    "Story about children",
    "Story about sickness",
    "Strength",
    "Sustainings",
    "Talents",
    "Talk outline",
    "Teaching",
    "Temple",
    "Temporal bodies",
    "Testimonies",
    "The Holy Ghost",
    "Thomas S. Monson",
    "Time",
    "Tithing",
    "Trials",
    "Truth",
    "Unbelief",
    "Utah",
    "Virtue",
    "Wisdom",
    "Women",
    "Word of Wisdom",
    "Work",
    "Worthiness",
    "Zion",
    "\"Alooo-HA!\"",
    "\"As I prepared\"",
    "\"Bear with me\"",
    "\"By the same sign\"",
    "\"Comfort zone/bubble\"",
    "\"Daily lives\"",
    "\"Endure to the end\"",
    "\"Ensign\" magazine",
    "\"Eternal companion\"",
    "\"Eternal family\"",
    "\"Every member a missionary\"",
    "\"Fellowship\" as a verb",
    "\"Fiber of my being\"",
    "\"Focus on The One\"",
    "\"For me personally\"",
    "\"For those who don't know me\"",
    "\"Good [time] brothers and sisters\"",
    "\"I'd like to bear my testimony\"",
    "\"I'm grateful for the opportunity\"",
    "\"I've been asked to speak on\"",
    "\"If you could turn with me\"",
    "\"If you're here please stand\"",
    "\"It's a pleasure to speak to/be with you today\"",
    "\"Mormon standard time\"",
    "\"My favorite scripture/hymn\"",
    "\"Nonmember\"",
    "\"Opposed if any\"",
    "\"Pre-existence\"",
    "\"Shadow of a doubt\"",
    "\"Sorry for crying\"",
    "\"Special musical number\"",
    "\"Sunday school/primary answers\"",
    "\"Sweet spirit\"",
    "\"Ten commandments\"",
    "\"Tender mercy\"",
    "\"Thank you, that was wonderful/beautiful\"",
    "\"The church/gospel/truth is (2 or more of) [restored] [back] [on the Earth] [again] [for our time]\"",
    "\"The family is under attack\"",
    "\"There were [number] members at my school\"",
    "\"This talk is for me\"",
    "\"Thy son\" while closing a talk",
    "\"Umm\"",
    "\"Ward family\"",
    "\"We'll go to that point\"",
    "\"What would Jesus do\"",
    "\"When I was asked to speak\"",
    "\"When I was on my mission\"",
];

</script>

<title>
Sacrament Meeting Bingo Generator
</title>

<!--
Jonathan Baker made this. Feel free to change the sayings to fit any occacion.
Yes, this is all the Javascript I know, thank you very much.
-->

<table border="1" style="height:100% ; width:100% ; font-size:20"> <!-- style="width500px">-->
    <tr>
    <td colspan="5" height="10%" align="center" onclick="setup()" >
    <h3>Sacrament Meeting BINGO Generator</h3>
    Click for new board
    </td></tr>
    <tr>
    <td onclick="boxtap('B0');"
        height="18%"
        width="20%"
        id="B0"
        align="center"
        onMouseOver="hilite('B0')"
        onMouseOut="nohilite('B0')">
        B0</td>
    <td onclick="boxtap('I0');"
        height="18%"
        width="20%"
        id="I0"
        align="center"
        onMouseOver="hilite('I0')"
        onMouseOut="nohilite('I0')">
        I0</td>
    <td onclick="boxtap('N0');"
        height="18%"
        width="20%"
        id="N0"
        align="center"
        onMouseOver="hilite('N0')"
        onMouseOut="nohilite('N0')">
        N0</td>
    <td onclick="boxtap('G0');"
        height="18%"
        width="20%"
        id="G0"
        align="center"
        onMouseOver="hilite('G0')"
        onMouseOut="nohilite('G0')">
        G0</td>
    <td onclick="boxtap('O0');"
        height="18%"
        width="20%"
        id="O0"
        align="center"
        onMouseOver="hilite('O0')"
        onMouseOut="nohilite('O0')">
        O0</td>
    </tr>
    <tr>
    <td onclick="boxtap('B1');"
        height="18%"
        width="20%"
        id="B1"
        align="center"
        onMouseOver="hilite('B1')"
        onMouseOut="nohilite('B1')">
        B1</td>
    <td onclick="boxtap('I1');"
        height="18%"
        width="20%"
        id="I1"
        align="center"
        onMouseOver="hilite('I1')"
        onMouseOut="nohilite('I1')">
        I1</td>
    <td onclick="boxtap('N1');"
        height="18%"
        width="20%"
        id="N1"
        align="center"
        onMouseOver="hilite('N1')"
        onMouseOut="nohilite('N1')">
        N1</td>
    <td onclick="boxtap('G1');"
        height="18%"
        width="20%"
        id="G1"
        align="center"
        onMouseOver="hilite('G1')"
        onMouseOut="nohilite('G1')">
        G1</td>
    <td onclick="boxtap('O1');"
        height="18%"
        width="20%"
        id="O1"
        align="center"
        onMouseOver="hilite('O1')"
        onMouseOut="nohilite('O1')">
        O1</td>
    </tr>
    <tr>
    <td onclick="boxtap('B2');"
        height="18%"
        width="20%"
        id="B2"
        align="center"
        onMouseOver="hilite('B2')"
        onMouseOut="nohilite('B2')">
        B2</td>
    <td onclick="boxtap('I2');"
        height="18%"
        width="20%"
        id="I2"
        align="center"
        onMouseOver="hilite('I2')"
        onMouseOut="nohilite('I2')">
        I2</td>
    <td
        height="18%"
        width="20%"
        id="FREE"
        align="center">
        FREE</td>
    <td onclick="boxtap('G2');"
        height="18%"
        width="20%"
        id="G2"
        align="center"
        onMouseOver="hilite('G2')"
        onMouseOut="nohilite('G2')">
        G2</td>
    <td onclick="boxtap('O2');"
        height="18%"
        width="20%"
        id="O2"
        align="center"
        onMouseOver="hilite('O2')"
        onMouseOut="nohilite('O2')">
        O2</td>
    </tr>
    <tr>
    <td onclick="boxtap('B3');"
        height="18%"
        width="20%"
        id="B3"
        align="center"
        onMouseOver="hilite('B3')"
        onMouseOut="nohilite('B3')">
        B3</td>
    <td onclick="boxtap('I3');"
        height="18%"
        width="20%"
        id="I3"
        align="center"
        onMouseOver="hilite('I3')"
        onMouseOut="nohilite('I3')">
        I3</td>
    <td onclick="boxtap('N3');"
        height="18%"
        width="20%"
        id="N3"
        align="center"
        onMouseOver="hilite('N3')"
        onMouseOut="nohilite('N3')">
        N3</td>
    <td onclick="boxtap('G3');"
        height="18%"
        width="20%"
        id="G3"
        align="center"
        onMouseOver="hilite('G3')"
        onMouseOut="nohilite('G3')">
        G3</td>
    <td onclick="boxtap('O3');"
        height="18%"
        width="20%"
        id="O3"
        align="center"
        onMouseOver="hilite('O3')"
        onMouseOut="nohilite('O3')">
        O3</td>
    </tr>
    <tr>
    <td onclick="boxtap('B4');"
        height="18%"
        width="20%"
        id="B4"
        align="center"
        onMouseOver="hilite('B4')"
        onMouseOut="nohilite('B4')">
        B4</td>
    <td onclick="boxtap('I4');"
        height="18%"
        width="20%"
        id="I4"
        align="center"
        onMouseOver="hilite('I4')"
        onMouseOut="nohilite('I4')">
        I4</td>
    <td onclick="boxtap('N4');"
        height="18%"
        width="20%"
        id="N4"
        align="center"
        onMouseOver="hilite('N4')"
        onMouseOut="nohilite('N4')">
        N4</td>
    <td onclick="boxtap('G4');"
        height="18%"
        width="20%"
        id="G4"
        align="center"
        align="center"
        onMouseOver="hilite('G4')"
        onMouseOut="nohilite('G4')">
        G4</td>
    <td onclick="boxtap('O4');"
        height="18%"
        width="20%"
        id="O4"
        align="center"
        onMouseOver="hilite('O4')"
        onMouseOut="nohilite('O4')">
        O4</td>
    </tr>
</table>

<script>
var colorSelect = "BBBBBB"
var colorHilite = "BBBBFF"
var colorWin = "#BBFFBB"
var colorBlank = "white"
var colorText = "black"

// 0: unchecked, 1: checked, 2: part of win
var states = new Array(5)

function clearStates(){
    var i,j;
    for(i=0 ; i<5 ; i++){
        states[i] = [0,0,0,0,0]
    }
    states[2][2] = 1

    for(i=0 ; i<5 ; i++){
        for(j=0 ; j<5 ; j++){
            div = document.getElementById(ids[i][j]);
            div.bgColor = colorBlank
            
        }
    }
    div = document.getElementById('FREE');
    div.bgColor = colorSelect
}

var lines = [[[0,0],[0,1],[0,2],[0,3],[0,4]],//0 horizontal
             [[1,0],[1,1],[1,2],[1,3],[1,4]],//1
             [[2,0],[2,1],[2,2],[2,3],[2,4]],//2
             [[3,0],[3,1],[3,2],[3,3],[3,4]],//3
             [[4,0],[4,1],[4,2],[4,3],[4,4]],//4
             [[0,0],[1,0],[2,0],[3,0],[4,0]],//5 vertical
             [[0,1],[1,1],[2,1],[3,1],[4,1]],//6
             [[0,2],[1,2],[2,2],[3,2],[4,2]],//7
             [[0,3],[1,3],[2,3],[3,3],[4,3]],//8
             [[0,4],[1,4],[2,4],[3,4],[4,4]],//9
             [[0,0],[1,1],[2,2],[3,3],[4,4]],//10 diagonal
             [[0,4],[1,3],[2,2],[3,1],[4,0]]]//11

var lineVictory

// box2lines[i][j] is a list of indices of the lines to which box i,j belongs
var box2lines = [[[0,5,10],[0,6   ],[0,7      ],[0,8   ],[0,9,11]],
                 [[1,5   ],[1,6,10],[1,7      ],[1,8,11],[1,9   ]],
                 [[2,5   ],[2,6   ],[2,7,10,11],[2,8   ],[2,9   ]],
                 [[3,5   ],[3,6,11],[3,7      ],[3,8,10],[3,9   ]],
                 [[4,5,11],[4,6   ],[4,7      ],[4,8   ],[4,9,10]]]

var ids = [['B0','I0','N0'  ,'G0','O0'],
           ['B1','I1','N1'  ,'G1','O1'],
           ['B2','I2','FREE','G2','O2'],
           ['B3','I3','N3'  ,'G3','O3'],
           ['B4','I4','N4'  ,'G4','O4']]

document.getElementById('FREE').bgColor = colorSelect

function getIndex(id){
    // Get the index in [0,24] for the box with given id e.g. B4
    col = -1
    switch(id.charAt(0)){
        case 'B':
            col = 0
            break;
        case 'I':
            col = 1
            break;
        case 'N':
            col = 2
            break;
        case 'G':
            col = 3
            break;
        case 'O':
            col = 4
            break;
    }
    
    row = parseInt(id.charAt(1))
    return [row,col]
}
function hilite(id){
    var rowcol = getIndex(id)
    var i = rowcol[0]
    var j = rowcol[1]
    if(states[i][j]){
        return
    }
    var div = document.getElementById(id)
    div.bgColor = colorHilite
}
function nohilite(id){
    var rowcol = getIndex(id)
    var i = rowcol[0]
    var j = rowcol[1]
    if(states[i][j]){
        return
    }
    var div = document.getElementById(id)
    div.bgColor=colorBlank
}
function boxtap(id){
    var rowcol = getIndex(id)
    var i = rowcol[0]
    var j = rowcol[1]
    var newColor
    if(states[i][j] == 0){
        states[i][j] = 1
        newColor = colorSelect
    }
    else{
        states[i][j] = 0
        newColor = colorBlank
    }

    var div = document.getElementById(id)
    div.bgColor = newColor
    
    checkwin()
    checkblackout()
}

// Global variables: Set to 1 when a win/blackout occurs
var victory;
var blackout;

setup();

function setup() {
    clearBlackout()
    lineVictory = [0,0,0,0,0,0,0,0,0,0,0,0];
    clearStates()
    victory = 0;
    populateGrid();
}

function populateGrid(){
    var sayingInds = new Array(sayings.length);

    for(var i=0 ; i<sayings.length ; i++){
        sayingInds[i] = i;
    }

    var ran;
    var saying;

    var i,j,div;

    for(i=0 ; i<5 ; i++){
        for(j=0 ; j<5 ; j++){
            
            if(i==2 && j==2){
                // The FREE square always says "FREE"
                continue;
            }
            div = document.getElementById(ids[i][j]);

            // Pick a random unused saying
             ran = Math.floor(Math.random()*sayingInds.length);
             saying = sayings[sayingInds[ran]];

            // Set the cell to hold the saying
             div.innerHTML = saying;

            // Remove the saying being added to the board
             sayingInds.splice(ran,1);
         }
    }
}

function lineWins(i){
    var x,y,j;
    var div;
    for(j=0 ; j<5 ; j++){
        y = lines[i][j][0];
        x = lines[i][j][1];
        div = document.getElementById(ids[y][x]);
        div.bgColor = colorWin;
    }
    if(victory == 0){
        alert("BINGO!");
    }
    victory = 1;
}

function findBoxWins(){
// for each box, determine whether it is involved in a Bingo
    var i,j,div;
    for(i=0 ; i<5 ; m++){
        for(j=0 ; j<5 ; n++){
            
        }
    }
}

function setBlackout(){
    var i,j,div;
    for(i=0 ; i<5 ; i++){
        for(j=0 ; j<5 ; j++){
            div = document.getElementById(ids[i][j]);
            div.bgColor = colorText
            div.style.color = colorBlank
        }
    }
    if( blackout == 0){
        alert("BLACKOUT!")
    }
    blackout = 1; //set the global blackout variable
}

function clearBlackout(){
    if(blackout == 0){
        return
    }
    var i,j,div;
    for(i=0 ; i<5 ; i++){
        for(j=0 ; j<5 ; j++){
            div = document.getElementById(ids[i][j])
            div.style.color = colorText
        }
    }
    blackout = 0; //set the global blackout variable
}

function checkLineWin(i){
    var j,y,x,div;
    linewin = 1; // Assume win until proven otherwise
    for(j=0 ; j<5 ; j++){
        y = lines[i][j][0];
        x = lines[i][j][1];
        if( !states[y][x] ){
            linewin = 0;
            break;
        }
    }
    lineVictory[i] = linewin;
    if(linewin == 1){
        lineWins(i);
    }
}

function checkwin(){
    var div;
    var i,j,k;
    var linesOFbox;

    var won = 0; 
    
    for(i=0 ; i<12 ; i++){
        checkLineWin(i);
        if(lineVictory[i]){
            won = 1;
        }
    }

    if(won == 0){
        victory = 0;
    }

    for(i=0 ; i<5 ; i++){
        for(j=0 ; j<5 ; j++){
            linesOFbox = box2lines[i][j]
            for(k=0 ; k<linesOFbox.length ; k++){
                if(lineVictory[linesOFbox[k]]){
                    // This box is on a winning line
                    div = document.getElementById(ids[i][j]);
                    div.bgColor = colorWin
                    break;
                }
            }
            if(k==linesOFbox.length){
            // This box does not have a win
                div = document.getElementById(ids[i][j]);
                if(states[i][j] == 1){
                    div.bgColor = colorSelect;
                }
                
            }
        }
    }
}

function checkblackout(){
    var i;
    for(i=0 ; i<5 ; i++){
        if(!lineVictory[i]){
            break;
        }
    }
    if(i==5){
        //blackout achieved
        setBlackout();
    }
    else{
        clearBlackout();
    }
}

</script>

<!--
<style type="text/css">
    td {overflow: hidden; }
    table {table-layout: fixed; }
</style>
-->

</html>

